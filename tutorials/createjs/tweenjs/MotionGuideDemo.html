<!doctype html>
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>XCanvas教程系列——CreateJS 教程——>TweenJS：MotionGuidePlugin 使用（B）</title>
<meta name="description" content="xcanvas,x-canvas,更快捷地开发html5游戏,html5游戏开发框架,html5游戏开发源代码,html5游戏开发电子书,最酷的html5开发框架,最方便的html5开发框架">
<meta name="keywords" content="xcanvas,x-canvas,xcanvas相关教程,createjs中文教程,createjs入门教程">

<link rel="stylesheet" href="assets/demoStyles.css" />
<link href="../../style.css" rel="stylesheet" type="text/css" />
<link href="../../codemirror/codemirror.css" rel="stylesheet" type="text/css" />
<link href="../../codemirror/ambiance.css" rel="stylesheet" type="text/css" />

<script type="text/javascript" src="../../codemirror/codemirror.js"></script>
<script type="text/javascript" src="../../codemirror/javascript.js"></script>

<script type="text/javascript" src="../../../src/xc.js"></script>
<script type="text/javascript">
xc.depends([
    "../../../src/core",
    "../../../src/lib/createjs"
], function() {
	var canvas;
	var stage;

	function init() {
		createjs.MotionGuidePlugin.install(createjs.Tween);

		canvas = document.getElementById("testCanvas");
		stage = new createjs.Stage(canvas);
		stage.autoClear = true;

		var ball = new createjs.Shape();
		var g = ball.graphics;
		g.setStrokeStyle(5, 'round', 'round');
		g.beginStroke(('#000000'));
		g.beginFill("#FF0000").drawCircle(0,0,50);
		g.endStroke();
		g.endFill();
		g.setStrokeStyle(1, 'round', 'round');
		g.beginStroke(('#000000'));
		g.moveTo(0,0);
		g.lineTo(50,0);
		g.endStroke();

		var tween = createjs.Tween.get(ball, {loop:true}, true) // 获取 ball 对象。
            .to({guide:{path:[100,100, 800,100, 800,300], orient:true}}, 5000) // 按照特定的路径运动。
            .wait(1000) // 等待 1 秒。
            .to({guide:{path:[800,300, 100,300, 100,100], end:0.75, orient:true}}, 3750) // 按照特定的路径运动。
            ;

		stage.addChild(ball);

		createjs.Ticker.addEventListener("tick", stage);
	}

	function handleComplete(tween) {
		var ball = tween._target;
	}

	init();
});
</script>
</head>

<body>
	<center>
		<div class="canvasHolder">
			<header id="header" class="EaselJS">
			    <h1><span class="text-product">Tween<strong>JS</strong></span> MotionGuidePlugin 使用（B）</h1>
			    <p>该例子演示了 MotionGuidePlugin 的简单使用。</p>
			</header>
			<canvas id="testCanvas" width="960" height="400" style="border: 5px white solid;"></canvas>
		</div>
	</center>

	<section id="header" class="EaselJS">
        <center>
            <div class="tutorialMainTitle">主要步骤 及 核心代码</div><br/><br/>
        </center>

        <div class="tutorialBody">
            <div class="tutorialTitle">步骤一：定义变量，以及在 canvas 上创建一个 Stage 对象。同时设定 stage 的 autoClear 属性为 true。</div><br />
                <textarea class="tutorialCode" name="code">
var canvas;
var stage;

canvas = document.getElementById("testCanvas");
stage = new createjs.Stage(canvas);
stage.autoClear = true;</textarea>
        </div>

        <div class="tutorialBody">
            <div class="tutorialTitle">步骤二：安装 MotionGuidePlugin 插件。</div><br />
                <textarea class="tutorialCode" name="code">
createjs.MotionGuidePlugin.install(createjs.Tween);</textarea>
        </div>

        <div class="tutorialBody">
            <div class="tutorialTitle">步骤三：创建 ball 的 Shape 对象，并添加到 Stage 中。</div><br />
                <textarea class="tutorialCode" name="code">
var ball = new createjs.Shape();
var g = ball.graphics;
g.setStrokeStyle(5, 'round', 'round');
g.beginStroke(('#000000'));
g.beginFill("#FF0000").drawCircle(0,0,50);
g.endStroke();
g.endFill();
g.setStrokeStyle(1, 'round', 'round');
g.beginStroke(('#000000'));
g.moveTo(0,0);
g.lineTo(50,0);
g.endStroke();

stage.addChild(ball);</textarea>
        </div>

        <div class="tutorialBody">
            <div class="tutorialTitle">步骤四：获取 ball 对象并创建补间动画（运动路径）。</div><br />
                <textarea class="tutorialCode" name="code">
var tween = createjs.Tween.get(ball, {loop:true}, true) // 获取 ball 对象。
    .to({guide:{path:[100,100, 800,100, 800,300], orient:true}}, 5000) // 按照特定的路径运动。
    .wait(1000) // 等待 1 秒。
    .to({guide:{path:[800,300, 100,300, 100,100], end:0.75, orient:true}}, 3750) // 按照特定的路径运动。
    ;</textarea>
        </div>

        <div class="tutorialBody">
            <div class="tutorialTitle">步骤五：启用 tick 监听。</div><br />
                <textarea class="tutorialCode" name="code">
createjs.Ticker.addEventListener("tick", stage);</textarea>
        </div>
    </section>

<script type="text/javascript" src="../../codemirror/index.js"></script>
</body>
</html>
