<!doctype html>
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>XCanvas教程系列——CreateJS 教程——EaselJS: 简单的图片精灵示例</title>
<meta name="description" content="xcanvas,x-canvas,更快捷地开发html5游戏,html5游戏开发框架,html5游戏开发源代码,html5游戏开发电子书,最酷的html5开发框架,最方便的html5开发框架">
<meta name="keywords" content="xcanvas,x-canvas,xcanvas相关教程,createjs中文教程,createjs入门教程">

<link href="assets/demoStyles.css" rel="stylesheet" type="text/css" />
<link href="../../style.css" rel="stylesheet" type="text/css" />
<link href="../../codemirror/codemirror.css" rel="stylesheet" type="text/css" />
<link href="../../codemirror/ambiance.css" rel="stylesheet" type="text/css" />

<script type="text/javascript" src="../../codemirror/codemirror.js"></script>
<script type="text/javascript" src="../../codemirror/javascript.js"></script>

<script type="text/javascript" src="../../../src/xc.js"></script>
<script type="text/javascript">
xc.depends([
    "../../../src/core",
    "../../../src/lib/createjs"
], function() {
    var stage;
	function init() {
		// 在canvas上创建一个场景
		stage = new createjs.Stage(document.getElementById("testCanvas"));

		// 定义一个图片精灵，注：这个数据是Zoë导出的。
		var ss = new createjs.SpriteSheet({
			"animations": {
				"run": [0, 25, "jump"],
				"jump": [26, 63, "run"]
		    },
			"images": ["assets/runningGrant.png"],
			"frames": {
				"height": 292.5,
				"width":165.75,
				"regX": 0,
				"regY": 0,
				"count": 64
			}
		});

		var grant = new createjs.BitmapAnimation(ss);
		grant.x = 360;
		grant.y = 22;

		grant.gotoAndPlay("run");

		// 把grant添加到场景，并把它当作监听器添加到主循环上，以便每次去更新
		stage.addChild(grant);
		createjs.Ticker.setFPS(60);
		createjs.Ticker.addEventListener("tick", tick);
	}

    function tick() {
        stage.update();
    }
    
    init();
});
</script>
</head>

<body>
	<center>
		<header id="header" class="EaselJS">
			<h1><span class="text-product">Easel<strong>JS</strong></span> 简单的图片精灵示例</h1>
			<p>一个使用<strong>BitmapAnimation</strong>的简单的图片精灵示例。这个示例同时也展示了命名动画的播放方式（play和run），
			还有使用<strong>getAnimation("name").next</strong>的链式动画播放。</p>
		</header>
		<div class="canvasHolder">
			<canvas id="testCanvas" width="960" height="400"></canvas>
		</div>
	</center>

	<section id="header" class="EaselJS">
        <center>
            <div class="tutorialMainTitle">主要步骤 及 核心代码</div><br/><br/>
        </center>

        <div class="tutorialBody">
            <div class="tutorialTitle">步骤一：定义变量，在 canvas 上创建一个 stage 对象。</div><br />
                <textarea class="tutorialCode" name="code">
var stage;

stage = new createjs.Stage(document.getElementById("testCanvas"));</textarea>
        </div>

        <div class="tutorialBody">
            <div class="tutorialTitle">步骤二：创建精灵表数据，这里包括 3 个重要信息。1.所用到的图片资源 images。2.帧定义 frames，动画每一帧对应图片的位置。3.动画 animations，从第几帧到第几帧分别代表什么动画。</div><br />
                <textarea class="tutorialCode" name="code">
// 定义一个图片精灵，注：这个数据是Zoë导出的。
var ss = new createjs.SpriteSheet({
	"animations": {
		"run": [0, 25, "jump"],
		"jump": [26, 63, "run"]
	},
	"images": ["assets/runningGrant.png"],
	"frames": {
		"height": 292.5,
		"width":165.75,
		"regX": 0,
		"regY": 0,
		"count": 64
	}
});</textarea>
        </div>
        
        <div class="tutorialBody">
            <div class="tutorialTitle">步骤三：用步骤二创建的数据实例化一个 BitmapAnimation 对象，并在设置位置属性后添加到 Stage 对象，同时开始运行 “run” 动画。</div><br />
                <textarea class="tutorialCode" name="code">
var grant = new createjs.BitmapAnimation(ss);
grant.x = 360;
grant.y = 22;

grant.gotoAndPlay("run");

// 把grant添加到场景，并把它当作监听器添加到主循环上，以便每次去更新
stage.addChild(grant);</textarea>
        </div>

        <div class="tutorialBody">
            <div class="tutorialTitle">步骤四：编写并绑定 tick 方法，在每一个 tick 中更新 Stage 对象。</div><br />
                <textarea class="tutorialCode" name="code">
createjs.Ticker.setFPS(60);
createjs.Ticker.addEventListener("tick", tick);

function tick() {
    stage.update();
}</textarea>
        </div>
    </section>

    <p style="text-align: center"> 
        <a title="XCanvas首页" href="http://xc.uc.cn">官网首页</a> &nbsp;
        <a title="XCanvas论坛" href="http://xc.uc.cn/bbs/">论坛首页</a>
    </p>

<script type="text/javascript" src="../../codemirror/index.js"></script>
</body>
</html>